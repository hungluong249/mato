/*! jQuery UI - v1.11.4 - 2015-03-13
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(a){"function"==typeof define&&define.amd?define(["jquery","./core","./mouse","./widget"],a):a(jQuery)})(function(a){return a.widget("ui.resizable",a.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(b){return parseInt(b,10)||0},_isNumber:function(b){return !isNaN(parseInt(b,10))},_hasScroll:function(d,b){if("hidden"===a(d).css("overflow")){return !1}var c=b&&"left"===b?"scrollLeft":"scrollTop",f=!1;return d[c]>0?!0:(d[c]=1,f=d[c]>0,d[c]=0,f)},_create:function(){var g,c,d,h,j,f=this,b=this.options;if(this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!b.aspectRatio,aspectRatio:b.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:b.helper||b.ghost||b.animate?b.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=b.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=a(),this.handles.constructor===String){for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),g=this.handles.split(","),this.handles={},c=0;g.length>c;c++){d=a.trim(g[c]),j="ui-resizable-"+d,h=a("<div class='ui-resizable-handle "+j+"'></div>"),h.css({zIndex:b.zIndex}),"se"===d&&h.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[d]=".ui-resizable-"+d,this.element.append(h)}}this._renderAxis=function(m){var k,l,p,q;m=m||this.element;for(k in this.handles){this.handles[k].constructor===String?this.handles[k]=this.element.children(this.handles[k]).first().show():(this.handles[k].jquery||this.handles[k].nodeType)&&(this.handles[k]=a(this.handles[k]),this._on(this.handles[k],{mousedown:f._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(l=a(this.handles[k],this.element),q=/sw|ne|nw|se|n|s/.test(k)?l.outerHeight():l.outerWidth(),p=["padding",/ne|nw|n/.test(k)?"Top":/se|sw|s/.test(k)?"Bottom":/^e$/.test(k)?"Right":"Left"].join(""),m.css(p,q),this._proportionallyResize()),this._handles=this._handles.add(this.handles[k])}},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){f.resizing||(this.className&&(h=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),f.axis=h&&h[1]?h[1]:"se")}),b.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){b.disabled||(a(this).removeClass("ui-resizable-autohide"),f._handles.show())}).mouseleave(function(){b.disabled||f.resizing||(a(this).addClass("ui-resizable-autohide"),f._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var c,b=function(d){a(d).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(b(this.element),c=this.element,this.originalElement.css({position:c.css("position"),width:c.outerWidth(),height:c.outerHeight(),top:c.css("top"),left:c.css("left")}).insertAfter(c),c.remove()),this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(d){var b,c,f=!1;for(b in this.handles){c=a(this.handles[b])[0],(c===d.target||a.contains(c,d.target))&&(f=!0)}return !this.options.disabled&&f},_mouseStart:function(f){var b,c,g,h=this.options,d=this.element;return this.resizing=!0,this._renderProxy(),b=this._num(this.helper.css("left")),c=this._num(this.helper.css("top")),h.containment&&(b+=a(h.containment).scrollLeft()||0,c+=a(h.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:b,top:c},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:d.width(),height:d.height()},this.originalSize=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:{width:d.width(),height:d.height()},this.sizeDiff={width:d.outerWidth()-d.width(),height:d.outerHeight()-d.height()},this.originalPosition={left:b,top:c},this.originalMousePosition={left:f.pageX,top:f.pageY},this.aspectRatio="number"==typeof h.aspectRatio?h.aspectRatio:this.originalSize.width/this.originalSize.height||1,g=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===g?this.axis+"-resize":g),d.addClass("ui-resizable-resizing"),this._propagate("start",f),!0},_mouseDrag:function(j){var c,f,k=this.originalMousePosition,l=this.axis,g=j.pageX-k.left||0,b=j.pageY-k.top||0,d=this._change[l];return this._updatePrevProperties(),d?(c=d.apply(this,[j,g,b]),this._updateVirtualBoundaries(j.shiftKey),(this._aspectRatio||j.shiftKey)&&(c=this._updateRatio(c,j)),c=this._respectSize(c,j),this._updateCache(c),this._propagate("resize",j),f=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(f)||(this._updatePrevProperties(),this._trigger("resize",j,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(m){this.resizing=!1;var j,t,d,f,b,q,k,g=this.options,c=this;return this._helper&&(j=this._proportionallyResizeElements,t=j.length&&/textarea/i.test(j[0].nodeName),d=t&&this._hasScroll(j[0],"left")?0:c.sizeDiff.height,f=t?0:c.sizeDiff.width,b={width:c.helper.width()-f,height:c.helper.height()-d},q=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,k=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,g.animate||this.element.css(a.extend(b,{top:k,left:q})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!g.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",m),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var b={};return this.position.top!==this.prevPosition.top&&(b.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(b.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(b.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(b.height=this.size.height+"px"),this.helper.css(b),b},_updateVirtualBoundaries:function(c){var g,b,d,h,j,f=this.options;j={minWidth:this._isNumber(f.minWidth)?f.minWidth:0,maxWidth:this._isNumber(f.maxWidth)?f.maxWidth:1/0,minHeight:this._isNumber(f.minHeight)?f.minHeight:0,maxHeight:this._isNumber(f.maxHeight)?f.maxHeight:1/0},(this._aspectRatio||c)&&(g=j.minHeight*this.aspectRatio,d=j.minWidth/this.aspectRatio,b=j.maxHeight*this.aspectRatio,h=j.maxWidth/this.aspectRatio,g>j.minWidth&&(j.minWidth=g),d>j.minHeight&&(j.minHeight=d),j.maxWidth>b&&(j.maxWidth=b),j.maxHeight>h&&(j.maxHeight=h)),this._vBoundaries=j},_updateCache:function(b){this.offset=this.helper.offset(),this._isNumber(b.left)&&(this.position.left=b.left),this._isNumber(b.top)&&(this.position.top=b.top),this._isNumber(b.height)&&(this.size.height=b.height),this._isNumber(b.width)&&(this.size.width=b.width)},_updateRatio:function(c){var f=this.position,b=this.size,d=this.axis;return this._isNumber(c.height)?c.width=c.height*this.aspectRatio:this._isNumber(c.width)&&(c.height=c.width/this.aspectRatio),"sw"===d&&(c.left=f.left+(b.width-c.width),c.top=null),"nw"===d&&(c.top=f.top+(b.height-c.height),c.left=f.left+(b.width-c.width)),c},_respectSize:function(u){var m=this._vBoundaries,j=this.axis,v=this._isNumber(u.width)&&m.maxWidth&&m.maxWidth<u.width,d=this._isNumber(u.height)&&m.maxHeight&&m.maxHeight<u.height,f=this._isNumber(u.width)&&m.minWidth&&m.minWidth>u.width,b=this._isNumber(u.height)&&m.minHeight&&m.minHeight>u.height,q=this.originalPosition.left+this.originalSize.width,k=this.position.top+this.size.height,g=/sw|nw|w/.test(j),c=/nw|ne|n/.test(j);return f&&(u.width=m.minWidth),b&&(u.height=m.minHeight),v&&(u.width=m.maxWidth),d&&(u.height=m.maxHeight),f&&g&&(u.left=q-m.minWidth),v&&g&&(u.left=q-m.maxWidth),b&&c&&(u.top=k-m.minHeight),d&&c&&(u.top=k-m.maxHeight),u.width||u.height||u.left||!u.top?u.width||u.height||u.top||!u.left||(u.left=null):u.top=null,u},_getPaddingPlusBorderDimensions:function(c){for(var f=0,b=[],d=[c.css("borderTopWidth"),c.css("borderRightWidth"),c.css("borderBottomWidth"),c.css("borderLeftWidth")],g=[c.css("paddingTop"),c.css("paddingRight"),c.css("paddingBottom"),c.css("paddingLeft")];4>f;f++){b[f]=parseInt(d[f],10)||0,b[f]+=parseInt(g[f],10)||0}return{height:b[0]+b[2],width:b[1]+b[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){for(var c,d=0,b=this.helper||this.element;this._proportionallyResizeElements.length>d;d++){c=this._proportionallyResizeElements[d],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(c)),c.css({height:b.height()-this.outerDimensions.height||0,width:b.width()-this.outerDimensions.width||0})}}},_renderProxy:function(){var c=this.element,b=this.options;this.elementOffset=c.offset(),this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(b,c){return{width:this.originalSize.width+c}},w:function(c,f){var b=this.originalSize,d=this.originalPosition;return{left:d.left+f,width:b.width-f}},n:function(c,f,b){var d=this.originalSize,g=this.originalPosition;return{top:g.top+b,height:d.height-b}},s:function(c,d,b){return{height:this.originalSize.height+b}},se:function(d,b,c){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[d,b,c]))},sw:function(d,b,c){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[d,b,c]))},ne:function(d,b,c){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[d,b,c]))},nw:function(d,b,c){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[d,b,c]))}},_propagate:function(c,b){a.ui.plugin.call(this,c,[b,this.ui()]),"resize"!==c&&this._trigger(c,b,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add("resizable","animate",{stop:function(m){var j=a(this).resizable("instance"),t=j.options,d=j._proportionallyResizeElements,f=d.length&&/textarea/i.test(d[0].nodeName),b=f&&j._hasScroll(d[0],"left")?0:j.sizeDiff.height,q=f?0:j.sizeDiff.width,k={width:j.size.width-q,height:j.size.height-b},g=parseInt(j.element.css("left"),10)+(j.position.left-j.originalPosition.left)||null,c=parseInt(j.element.css("top"),10)+(j.position.top-j.originalPosition.top)||null;j.element.animate(a.extend(k,c&&g?{top:c,left:g}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var e={width:parseInt(j.element.css("width"),10),height:parseInt(j.element.css("height"),10),top:parseInt(j.element.css("top"),10),left:parseInt(j.element.css("left"),10)};d&&d.length&&a(d[0]).css({width:e.width,height:e.height}),j._updateCache(e),j._propagate("resize",m)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var t,m,x,g,j,b,w,q=a(this).resizable("instance"),k=q.options,f=q.element,u=k.containment,v=u instanceof a?u.get(0):/parent/.test(u)?f.parent().get(0):u;v&&(q.containerElement=a(v),/document/.test(u)||u===document?(q.containerOffset={left:0,top:0},q.containerPosition={left:0,top:0},q.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}):(t=a(v),m=[],a(["Top","Right","Left","Bottom"]).each(function(c,d){m[c]=q._num(t.css("padding"+d))}),q.containerOffset=t.offset(),q.containerPosition=t.position(),q.containerSize={height:t.innerHeight()-m[3],width:t.innerWidth()-m[1]},x=q.containerOffset,g=q.containerSize.height,j=q.containerSize.width,b=q._hasScroll(v,"left")?v.scrollWidth:j,w=q._hasScroll(v)?v.scrollHeight:g,q.parentData={element:v,left:x.left,top:x.top,width:b,height:w}))},resize:function(t){var m,z,g,j,b=a(this).resizable("instance"),x=b.options,q=b.containerOffset,k=b.position,f=b._aspectRatio||t.shiftKey,v={top:0,left:0},w=b.containerElement,y=!0;w[0]!==document&&/static/.test(w.css("position"))&&(v=q),k.left<(b._helper?q.left:0)&&(b.size.width=b.size.width+(b._helper?b.position.left-q.left:b.position.left-v.left),f&&(b.size.height=b.size.width/b.aspectRatio,y=!1),b.position.left=x.helper?q.left:0),k.top<(b._helper?q.top:0)&&(b.size.height=b.size.height+(b._helper?b.position.top-q.top:b.position.top),f&&(b.size.width=b.size.height*b.aspectRatio,y=!1),b.position.top=b._helper?q.top:0),g=b.containerElement.get(0)===b.element.parent().get(0),j=/relative|absolute/.test(b.containerElement.css("position")),g&&j?(b.offset.left=b.parentData.left+b.position.left,b.offset.top=b.parentData.top+b.position.top):(b.offset.left=b.element.offset().left,b.offset.top=b.element.offset().top),m=Math.abs(b.sizeDiff.width+(b._helper?b.offset.left-v.left:b.offset.left-q.left)),z=Math.abs(b.sizeDiff.height+(b._helper?b.offset.top-v.top:b.offset.top-q.top)),m+b.size.width>=b.parentData.width&&(b.size.width=b.parentData.width-m,f&&(b.size.height=b.size.width/b.aspectRatio,y=!1)),z+b.size.height>=b.parentData.height&&(b.size.height=b.parentData.height-z,f&&(b.size.width=b.size.height*b.aspectRatio,y=!1)),y||(b.position.left=b.prevPosition.left,b.position.top=b.prevPosition.top,b.size.width=b.prevSize.width,b.size.height=b.prevSize.height)},stop:function(){var k=a(this).resizable("instance"),g=k.options,p=k.containerOffset,c=k.containerPosition,d=k.containerElement,b=a(k.helper),m=b.offset(),j=b.outerWidth()-k.sizeDiff.width,f=b.outerHeight()-k.sizeDiff.height;k._helper&&!g.animate&&/relative/.test(d.css("position"))&&a(this).css({left:m.left-c.left-p.left,width:j,height:f}),k._helper&&!g.animate&&/static/.test(d.css("position"))&&a(this).css({left:m.left-c.left-p.left,width:j,height:f})}}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var c=a(this).resizable("instance"),b=c.options;a(b.alsoResize).each(function(){var d=a(this);d.data("ui-resizable-alsoresize",{width:parseInt(d.width(),10),height:parseInt(d.height(),10),left:parseInt(d.css("left"),10),top:parseInt(d.css("top"),10)})})},resize:function(g,c){var d=a(this).resizable("instance"),h=d.options,j=d.originalSize,f=d.originalPosition,b={height:d.size.height-j.height||0,width:d.size.width-j.width||0,top:d.position.top-f.top||0,left:d.position.left-f.left||0};a(h.alsoResize).each(function(){var k=a(this),i=a(this).data("ui-resizable-alsoresize"),l={},m=k.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(m,function(o,p){var n=(i[p]||0)+(b[p]||0);n&&n>=0&&(l[p]=n||null)}),k.css(l)})},stop:function(){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","ghost",{start:function(){var d=a(this).resizable("instance"),b=d.options,c=d.size;d.ghost=d.originalElement.clone(),d.ghost.css({opacity:0.25,display:"block",position:"relative",height:c.height,width:c.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof b.ghost?b.ghost:""),d.ghost.appendTo(d.helper)},resize:function(){var b=a(this).resizable("instance");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).resizable("instance");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(){var E,A=a(this).resizable("instance"),k=A.options,w=A.size,x=A.originalSize,q=A.originalPosition,H=A.axis,B="number"==typeof k.grid?[k.grid,k.grid]:k.grid,z=B[0]||1,t=B[1]||1,F=Math.round((w.width-x.width)/z)*z,G=Math.round((w.height-x.height)/t)*t,j=x.width+F,D=x.height+G,C=k.maxWidth&&j>k.maxWidth,y=k.maxHeight&&D>k.maxHeight,b=k.minWidth&&k.minWidth>j,I=k.minHeight&&k.minHeight>D;k.grid=B,b&&(j+=z),I&&(D+=t),C&&(j-=z),y&&(D-=t),/^(se|s|e)$/.test(H)?(A.size.width=j,A.size.height=D):/^(ne)$/.test(H)?(A.size.width=j,A.size.height=D,A.position.top=q.top-G):/^(sw)$/.test(H)?(A.size.width=j,A.size.height=D,A.position.left=q.left-F):((0>=D-t||0>=j-z)&&(E=A._getPaddingPlusBorderDimensions(this)),D-t>0?(A.size.height=D,A.position.top=q.top-G):(D=t-E.height,A.size.height=D,A.position.top=q.top+x.height-D),j-z>0?(A.size.width=j,A.position.left=q.left-F):(j=z-E.width,A.size.width=j,A.position.left=q.left+x.width-j))}}),a.ui.resizable});