/*! jQuery UI - v1.11.4 - 2015-03-13
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(a){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position"],a):a(jQuery)})(function(a){return a.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var b=a(this).attr("title")||"";return a("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(d,b){var c=(d.attr("aria-describedby")||"").split(/\s+/);c.push(b),d.data("ui-tooltip-id",b).attr("aria-describedby",a.trim(c.join(" ")))},_removeDescribedBy:function(d){var b=d.data("ui-tooltip-id"),c=(d.attr("aria-describedby")||"").split(/\s+/),f=a.inArray(b,c);-1!==f&&c.splice(f,1),d.removeData("ui-tooltip-id"),c=a.trim(c.join(" ")),c?d.attr("aria-describedby",c):d.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=a("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(d,b){var c=this;return"disabled"===d?(this[b?"_disable":"_enable"](),this.options[d]=b,void 0):(this._super(d,b),"content"===d&&a.each(this.tooltips,function(f,g){c._updateContent(g.element)}),void 0)},_disable:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d.element[0],b.close(e,!0)}),this.element.find(this.options.items).addBack().each(function(){var c=a(this);c.is("[title]")&&c.data("ui-tooltip-title",c.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(d){var b=this,c=a(d?d.target:this.element).closest(this.options.items);c.length&&!c.data("ui-tooltip-id")&&(c.attr("title")&&c.data("ui-tooltip-title",c.attr("title")),c.data("ui-tooltip-open",!0),d&&"mouseover"===d.type&&c.parents().each(function(){var g,f=a(this);f.data("ui-tooltip-open")&&(g=a.Event("blur"),g.target=g.currentTarget=this,b.close(g,!0)),f.attr("title")&&(f.uniqueId(),b.parents[this.id]={element:this,title:f.attr("title")},f.attr("title",""))}),this._registerCloseHandlers(d,c),this._updateContent(c,d))},_updateContent:function(c,f){var b,d=this.options.content,h=this,g=f?f.type:null;return"string"==typeof d?this._open(f,c,d):(b=d.call(c[0],function(e){h._delay(function(){c.data("ui-tooltip-open")&&(f&&(f.type=g),this._open(f,c,e))})}),b&&this._open(f,c,b),void 0)},_open:function(k,g,p){function d(e){f.of=e,m.is(":hidden")||m.position(f)}var c,m,b,j,f=a.extend({},this.options.position);if(p){if(c=this._find(g)){return c.tooltip.find(".ui-tooltip-content").html(p),void 0}g.is("[title]")&&(k&&"mouseover"===k.type?g.attr("title",""):g.removeAttr("title")),c=this._tooltip(g),m=c.tooltip,this._addDescribedBy(g,m.attr("id")),m.find(".ui-tooltip-content").html(p),this.liveRegion.children().hide(),p.clone?(j=p.clone(),j.removeAttr("id").find("[id]").removeAttr("id")):j=p,a("<div>").html(j).appendTo(this.liveRegion),this.options.track&&k&&/^mouse/.test(k.type)?(this._on(this.document,{mousemove:d}),d(k)):m.position(a.extend({of:g},this.options.position)),m.hide(),this._show(m,this.options.show),this.options.show&&this.options.show.delay&&(b=this.delayedShow=setInterval(function(){m.is(":visible")&&(d(f.of),clearInterval(b))},a.fx.interval)),this._trigger("open",k,{tooltip:m})}},_registerCloseHandlers:function(d,b){var c={keyup:function(g){if(g.keyCode===a.ui.keyCode.ESCAPE){var f=a.Event(g);f.currentTarget=b[0],this.close(f,!0)}}};b[0]!==this.element[0]&&(c.remove=function(){this._removeTooltip(this._find(b).tooltip)}),d&&"mouseover"!==d.type||(c.mouseleave="close"),d&&"focusin"!==d.type||(c.focusout="close"),this._on(!0,b,c)},close:function(d){var b,c=this,g=a(d?d.currentTarget:this.element),f=this._find(g);return f?(b=f.tooltip,f.closing||(clearInterval(this.delayedShow),g.data("ui-tooltip-title")&&!g.attr("title")&&g.attr("title",g.data("ui-tooltip-title")),this._removeDescribedBy(g),f.hiding=!0,b.stop(!0),this._hide(b,this.options.hide,function(){c._removeTooltip(a(this))}),g.removeData("ui-tooltip-open"),this._off(g,"mouseleave focusout keyup"),g[0]!==this.element[0]&&this._off(g,"remove"),this._off(this.document,"mousemove"),d&&"mouseleave"===d.type&&a.each(this.parents,function(j,h){a(h.element).attr("title",h.title),delete c.parents[j]}),f.closing=!0,this._trigger("close",d,{tooltip:b}),f.hiding||(f.closing=!1)),void 0):(g.removeData("ui-tooltip-open"),void 0)},_tooltip:function(d){var b=a("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),c=b.uniqueId().attr("id");return a("<div>").addClass("ui-tooltip-content").appendTo(b),b.appendTo(this.document[0].body),this.tooltips[c]={element:d,tooltip:b}},_find:function(b){var c=b.data("ui-tooltip-id");return c?this.tooltips[c]:null},_removeTooltip:function(b){b.remove(),delete this.tooltips[b.attr("id")]},_destroy:function(){var b=this;a.each(this.tooltips,function(c,d){var f=a.Event("blur"),e=d.element;f.target=f.currentTarget=e[0],b.close(f,!0),a("#"+c).remove(),e.data("ui-tooltip-title")&&(e.attr("title")||e.attr("title",e.data("ui-tooltip-title")),e.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})});