/*! jQuery UI - v1.11.4 - 2015-03-13
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(a){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],a):a(jQuery)})(function(a){return a.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var b=this.options;this.prevShow=this.prevHide=a(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),b.collapsible||b.active!==!1&&null!=b.active||(b.active=0),this._processPanels(),0>b.active&&(b.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():a()}},_createIcons:function(){var b=this.options.icons;b&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var b;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),b=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&b.css("height","")},_setOption:function(b,c){return"active"===b?(this._activate(c),void 0):("event"===b&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(c)),this._super(b,c),"collapsible"!==b||c||this.options.active!==!1||this._activate(0),"icons"===b&&(this._destroyIcons(),c&&this._createIcons()),"disabled"===b&&(this.element.toggleClass("ui-state-disabled",!!c).attr("aria-disabled",c),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!c)),void 0)},_keydown:function(d){if(!d.altKey&&!d.ctrlKey){var b=a.ui.keyCode,c=this.headers.length,g=this.headers.index(d.target),f=!1;switch(d.keyCode){case b.RIGHT:case b.DOWN:f=this.headers[(g+1)%c];break;case b.LEFT:case b.UP:f=this.headers[(g-1+c)%c];break;case b.SPACE:case b.ENTER:this._eventHandler(d);break;case b.HOME:f=this.headers[0];break;case b.END:f=this.headers[c-1]}f&&(a(d.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus(),d.preventDefault())}},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().focus()},refresh:function(){var b=this.options;this._processPanels(),b.active===!1&&b.collapsible===!0||!this.headers.length?(b.active=!1,this.active=a()):b.active===!1?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=a()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var b=this.headers,c=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),c&&(this._off(b.not(this.headers)),this._off(c.not(this.panels)))},_refresh:function(){var d,b=this.options,c=b.heightStyle,f=this.element.parent();this.active=this._findActive(b.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var j=a(this),g=j.uniqueId().attr("id"),h=j.next(),k=h.uniqueId().attr("id");j.attr("aria-controls",k),h.attr("aria-labelledby",g)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(b.event),"fill"===c?(d=f.height(),this.element.siblings(":visible").each(function(){var e=a(this),g=e.css("position");"absolute"!==g&&"fixed"!==g&&(d-=e.outerHeight(!0))}),this.headers.each(function(){d-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,d-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===c&&(d=0,this.headers.next().each(function(){d=Math.max(d,a(this).css("height","").height())}).height(d))},_activate:function(c){var b=this._findActive(c)[0];b!==this.active[0]&&(b=b||this.active[0],this._eventHandler({target:b,currentTarget:b,preventDefault:a.noop}))},_findActive:function(b){return"number"==typeof b?this.headers.eq(b):a()},_setupEvents:function(c){var b={keydown:"_keydown"};c&&a.each(c.split(" "),function(d,f){b[f]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,b),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(k){var g=this.options,p=this.active,d=a(k.currentTarget),c=d[0]===p[0],b=c&&g.collapsible,m=b?a():d.next(),j=p.next(),f={oldHeader:p,oldPanel:j,newHeader:b?a():d,newPanel:m};k.preventDefault(),c&&!g.collapsible||this._trigger("beforeActivate",k,f)===!1||(g.active=b?!1:this.headers.index(d),this.active=c?a():d,this._toggle(f),p.removeClass("ui-accordion-header-active ui-state-active"),g.icons&&p.children(".ui-accordion-header-icon").removeClass(g.icons.activeHeader).addClass(g.icons.header),c||(d.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),g.icons&&d.children(".ui-accordion-header-icon").removeClass(g.icons.header).addClass(g.icons.activeHeader),d.next().addClass("ui-accordion-content-active")))},_toggle:function(d){var b=d.newPanel,c=this.prevShow.length?this.prevShow:d.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=b,this.prevHide=c,this.options.animate?this._animate(b,c,d):(c.hide(),b.show(),this._toggleComplete(d)),c.attr({"aria-hidden":"true"}),c.prev().attr({"aria-selected":"false","aria-expanded":"false"}),b.length&&c.length?c.prev().attr({tabIndex:-1,"aria-expanded":"false"}):b.length&&this.headers.filter(function(){return 0===parseInt(a(this).attr("tabIndex"),10)}).attr("tabIndex",-1),b.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(y,u,m){var z,j,g,b=this,x=0,q=y.css("box-sizing"),k=y.length&&(!u.length||y.index()<u.index()),w=this.options.animate||{},f=k&&w.down||w,v=function(){b._toggleComplete(m)};return"number"==typeof f&&(g=f),"string"==typeof f&&(j=f),j=j||f.easing||w.easing,g=g||f.duration||w.duration,u.length?y.length?(z=y.show().outerHeight(),u.animate(this.hideProps,{duration:g,easing:j,step:function(c,d){d.now=Math.round(c)}}),y.hide().animate(this.showProps,{duration:g,easing:j,complete:v,step:function(d,c){c.now=Math.round(d),"height"!==c.prop?"content-box"===q&&(x+=c.now):"content"!==b.options.heightStyle&&(c.now=Math.round(z-u.outerHeight()-x),x=0)}}),void 0):u.animate(this.hideProps,g,j,v):y.animate(this.showProps,g,j,v)},_toggleComplete:function(b){var c=b.oldPanel;c.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),c.length&&(c.parent()[0].className=c.parent()[0].className),this._trigger("activate",null,b)}})});