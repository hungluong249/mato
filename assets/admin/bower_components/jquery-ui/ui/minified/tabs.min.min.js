/*! jQuery UI - v1.11.4 - 2015-03-13
* http://jqueryui.com
* Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(a){"function"==typeof define&&define.amd?define(["jquery","./core","./widget"],a):a(jQuery)})(function(a){return a.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var b=/#.*$/;return function(f){var c,d;f=f.cloneNode(!1),c=f.href.replace(b,""),d=location.href.replace(b,"");try{c=decodeURIComponent(c)}catch(g){}try{d=decodeURIComponent(d)}catch(g){}return f.hash.length>1&&c===d}}(),_create:function(){var c=this,b=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",b.collapsible),this._processTabs(),b.active=this._initialActive(),a.isArray(b.disabled)&&(b.disabled=a.unique(b.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(d){return c.tabs.index(d)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(b.active):a(),this._refresh(),this.active.length&&this.load(b.active)},_initialActive:function(){var d=this.options.active,b=this.options.collapsible,c=location.hash.substring(1);return null===d&&(c&&this.tabs.each(function(e,f){return a(f).attr("aria-controls")===c?(d=e,!1):void 0}),null===d&&(d=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===d||-1===d)&&(d=this.tabs.length?0:!1)),d!==!1&&(d=this.tabs.index(this.tabs.eq(d)),-1===d&&(d=b?!1:0)),!b&&d===!1&&this.anchors.length&&(d=0),d},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(d){var b=a(this.document[0].activeElement).closest("li"),c=this.tabs.index(b),f=!0;if(!this._handlePageNav(d)){switch(d.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:c++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:f=!1,c--;break;case a.ui.keyCode.END:c=this.anchors.length-1;break;case a.ui.keyCode.HOME:c=0;break;case a.ui.keyCode.SPACE:return d.preventDefault(),clearTimeout(this.activating),this._activate(c),void 0;case a.ui.keyCode.ENTER:return d.preventDefault(),clearTimeout(this.activating),this._activate(c===this.options.active?!1:c),void 0;default:return}d.preventDefault(),clearTimeout(this.activating),c=this._focusNextTab(c,f),d.ctrlKey||d.metaKey||(b.attr("aria-selected","false"),this.tabs.eq(c).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",c)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(d,b){function c(){return d>f&&(d=0),0>d&&(d=f),d}for(var f=this.tabs.length-1;-1!==a.inArray(c(),this.options.disabled);){d=b?d+1:d-1}return d},_focusNextTab:function(b,c){return b=this._findNextTab(b,c),this.tabs.eq(b).focus(),b},_setOption:function(b,c){return"active"===b?(this._activate(c),void 0):"disabled"===b?(this._setupDisabled(c),void 0):(this._super(b,c),"collapsible"===b&&(this.element.toggleClass("ui-tabs-collapsible",c),c||this.options.active!==!1||this._activate(0)),"event"===b&&this._setupEvents(c),"heightStyle"===b&&this._setupHeightStyle(c),void 0)},_sanitizeSelector:function(b){return b?b.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var c=this.options,b=this.tablist.children(":has(a[href])");c.disabled=a.map(b.filter(".ui-state-disabled"),function(d){return b.index(d)}),this._processTabs(),c.active!==!1&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===c.disabled.length?(c.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,c.active-1),!1)):c.active=this.tabs.index(this.active):(c.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var d=this,b=this.tabs,c=this.anchors,f=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(g){a(this).is(".ui-state-disabled")&&g.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=a(),this.anchors.each(function(j,m){var t,q,g,p=a(m).uniqueId().attr("id"),k=a(m).closest("li"),e=k.attr("aria-controls");d._isLocal(m)?(t=m.hash,g=t.substring(1),q=d.element.find(d._sanitizeSelector(t))):(g=k.attr("aria-controls")||a({}).uniqueId()[0].id,t="#"+g,q=d.element.find(t),q.length||(q=d._createPanel(g),q.insertAfter(d.panels[j-1]||d.tablist)),q.attr("aria-live","polite")),q.length&&(d.panels=d.panels.add(q)),e&&k.data("ui-tabs-aria-controls",e),k.attr({"aria-controls":g,"aria-labelledby":p}),q.attr("aria-labelledby",p)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),b&&(this._off(b.not(this.tabs)),this._off(c.not(this.anchors)),this._off(f.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(d){a.isArray(d)&&(d.length?d.length===this.anchors.length&&(d=!0):d=!1);for(var b,c=0;b=this.tabs[c];c++){d===!0||-1!==a.inArray(c,d)?a(b).addClass("ui-state-disabled").attr("aria-disabled","true"):a(b).removeClass("ui-state-disabled").removeAttr("aria-disabled")}this.options.disabled=d},_setupEvents:function(c){var b={};c&&a.each(c.split(" "),function(d,f){b[f]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(d){d.preventDefault()}}),this._on(this.anchors,b),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(d){var b,c=this.element.parent();"fill"===d?(b=c.height(),b-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var g=a(this),f=g.css("position");"absolute"!==f&&"fixed"!==f&&(b-=g.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){b-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,b-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===d&&(b=0,this.panels.each(function(){b=Math.max(b,a(this).height("").height())}).height(b))},_eventHandler:function(k){var g=this.options,q=this.active,d=a(k.currentTarget),c=d.closest("li"),m=c[0]===q[0],b=m&&g.collapsible,j=b?a():this._getPanelForTab(c),f=q.length?this._getPanelForTab(q):a(),p={oldTab:q,oldPanel:f,newTab:b?a():c,newPanel:j};k.preventDefault(),c.hasClass("ui-state-disabled")||c.hasClass("ui-tabs-loading")||this.running||m&&!g.collapsible||this._trigger("beforeActivate",k,p)===!1||(g.active=b?!1:this.tabs.index(c),this.active=m?a():c,this.xhr&&this.xhr.abort(),f.length||j.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),j.length&&this.load(this.tabs.index(c),k),this._toggle(k,p))},_toggle:function(g,c){function d(){h.running=!1,h._trigger("activate",g,c)}function j(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),b.length&&h.options.show?h._show(b,h.options.show,d):(b.show(),d())}var h=this,b=c.newPanel,f=c.oldPanel;this.running=!0,f.length&&this.options.hide?this._hide(f,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),j()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),f.hide(),j()),f.attr("aria-hidden","true"),c.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),b.length&&f.length?c.oldTab.attr("tabIndex",-1):b.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),b.attr("aria-hidden","false"),c.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(d){var b,c=this._findActive(d);c[0]!==this.active[0]&&(c.length||(c=this.active),b=c.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,currentTarget:b,preventDefault:a.noop}))},_findActive:function(b){return b===!1?a():this.tabs.eq(b)},_getIndex:function(b){return"string"==typeof b&&(b=this.anchors.index(this.anchors.filter("[href$='"+b+"']"))),b},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var c=a(this),b=c.data("ui-tabs-aria-controls");b?c.attr("aria-controls",b).removeData("ui-tabs-aria-controls"):c.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(c){var b=this.options.disabled;b!==!1&&(void 0===c?b=!1:(c=this._getIndex(c),b=a.isArray(b)?a.map(b,function(d){return d!==c?d:null}):a.map(this.tabs,function(e,d){return d!==c?d:null})),this._setupDisabled(b))},disable:function(c){var b=this.options.disabled;if(b!==!0){if(void 0===c){b=!0}else{if(c=this._getIndex(c),-1!==a.inArray(c,b)){return}b=a.isArray(b)?a.merge([c],b).sort():[c]}this._setupDisabled(b)}},load:function(j,c){j=this._getIndex(j);var f=this,l=this.tabs.eq(j),k=l.find(".ui-tabs-anchor"),b=this._getPanelForTab(l),g={tab:l,panel:b},d=function(h,i){"abort"===i&&f.panels.stop(!1,!0),l.removeClass("ui-tabs-loading"),b.removeAttr("aria-busy"),h===f.xhr&&delete f.xhr};this._isLocal(k[0])||(this.xhr=a.ajax(this._ajaxSettings(k,c,g)),this.xhr&&"canceled"!==this.xhr.statusText&&(l.addClass("ui-tabs-loading"),b.attr("aria-busy","true"),this.xhr.done(function(h,i,m){setTimeout(function(){b.html(h),f._trigger("load",c,g),d(m,i)},1)}).fail(function(h,i){setTimeout(function(){d(h,i)},1)})))},_ajaxSettings:function(d,b,c){var f=this;return{url:d.attr("href"),beforeSend:function(g,h){return f._trigger("beforeLoad",b,a.extend({jqXHR:g,ajaxSettings:h},c))}}},_getPanelForTab:function(c){var b=a(c).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+b))}})});