/*!
 * jQuery UI Accordion 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/accordion/
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","./core","./widget"],a)}else{a(jQuery)}}(function(a){return a.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:false,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var b=this.options;this.prevShow=this.prevHide=a();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!b.collapsible&&(b.active===false||b.active==null)){b.active=0}this._processPanels();if(b.active<0){b.active+=this.headers.length}this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:!this.active.length?a():this.active.next()}},_createIcons:function(){var b=this.options.icons;if(b){a("<span>").addClass("ui-accordion-header-icon ui-icon "+b.header).prependTo(this.headers);this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader);this.headers.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var b;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId();this._destroyIcons();b=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId();if(this.options.heightStyle!=="content"){b.css("height","")}},_setOption:function(b,c){if(b==="active"){this._activate(c);return}if(b==="event"){if(this.options.event){this._off(this.headers,this.options.event)}this._setupEvents(c)}this._super(b,c);if(b==="collapsible"&&!c&&this.options.active===false){this._activate(0)}if(b==="icons"){this._destroyIcons();if(c){this._createIcons()}}if(b==="disabled"){this.element.toggleClass("ui-state-disabled",!!c).attr("aria-disabled",c);this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!c)}},_keydown:function(e){if(e.altKey||e.ctrlKey){return}var f=a.ui.keyCode,d=this.headers.length,b=this.headers.index(e.target),c=false;switch(e.keyCode){case f.RIGHT:case f.DOWN:c=this.headers[(b+1)%d];break;case f.LEFT:case f.UP:c=this.headers[(b-1+d)%d];break;case f.SPACE:case f.ENTER:this._eventHandler(e);break;case f.HOME:c=this.headers[0];break;case f.END:c=this.headers[d-1];break}if(c){a(e.target).attr("tabIndex",-1);a(c).attr("tabIndex",0);c.focus();e.preventDefault()}},_panelKeyDown:function(b){if(b.keyCode===a.ui.keyCode.UP&&b.ctrlKey){a(b.currentTarget).prev().focus()}},refresh:function(){var b=this.options;this._processPanels();if((b.active===false&&b.collapsible===true)||!this.headers.length){b.active=false;this.active=a()}else{if(b.active===false){this._activate(0)}else{if(this.active.length&&!a.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){b.active=false;this.active=a()}else{this._activate(Math.max(0,b.active-1))}}else{b.active=this.headers.index(this.active)}}}this._destroyIcons();this._refresh()},_processPanels:function(){var c=this.headers,b=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all");this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide();if(b){this._off(c.not(this.headers));this._off(b.not(this.panels))}},_refresh:function(){var e,c=this.options,b=c.heightStyle,d=this.element.parent();this.active=this._findActive(c.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(){var i=a(this),h=i.uniqueId().attr("id"),f=i.next(),g=f.uniqueId().attr("id");i.attr("aria-controls",g);f.attr("aria-labelledby",h)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"})}this._createIcons();this._setupEvents(c.event);if(b==="fill"){e=d.height();this.element.siblings(":visible").each(function(){var g=a(this),f=g.css("position");if(f==="absolute"||f==="fixed"){return}e-=g.outerHeight(true)});this.headers.each(function(){e-=a(this).outerHeight(true)});this.headers.next().each(function(){a(this).height(Math.max(0,e-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else{if(b==="auto"){e=0;this.headers.next().each(function(){e=Math.max(e,a(this).css("height","").height())}).height(e)}}},_activate:function(b){var c=this._findActive(b)[0];if(c===this.active[0]){return}c=c||this.active[0];this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop})},_findActive:function(b){return typeof b==="number"?this.headers.eq(b):a()},_setupEvents:function(c){var b={keydown:"_keydown"};if(c){a.each(c.split(" "),function(e,d){b[d]="_eventHandler"})}this._off(this.headers.add(this.headers.next()));this._on(this.headers,b);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(b){var j=this.options,e=this.active,f=a(b.currentTarget),h=f[0]===e[0],c=h&&j.collapsible,d=c?a():f.next(),g=e.next(),i={oldHeader:e,oldPanel:g,newHeader:c?a():f,newPanel:d};b.preventDefault();if((h&&!j.collapsible)||(this._trigger("beforeActivate",b,i)===false)){return}j.active=c?false:this.headers.index(f);this.active=h?a():f;this._toggle(i);e.removeClass("ui-accordion-header-active ui-state-active");if(j.icons){e.children(".ui-accordion-header-icon").removeClass(j.icons.activeHeader).addClass(j.icons.header)}if(!h){f.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");if(j.icons){f.children(".ui-accordion-header-icon").removeClass(j.icons.header).addClass(j.icons.activeHeader)}f.next().addClass("ui-accordion-content-active")}},_toggle:function(d){var b=d.newPanel,c=this.prevShow.length?this.prevShow:d.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=b;this.prevHide=c;if(this.options.animate){this._animate(b,c,d)}else{c.hide();b.show();this._toggleComplete(d)}c.attr({"aria-hidden":"true"});c.prev().attr({"aria-selected":"false","aria-expanded":"false"});if(b.length&&c.length){c.prev().attr({tabIndex:-1,"aria-expanded":"false"})}else{if(b.length){this.headers.filter(function(){return parseInt(a(this).attr("tabIndex"),10)===0}).attr("tabIndex",-1)}}b.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(b,k,g){var j,i,f,h=this,l=0,e=b.css("box-sizing"),m=b.length&&(!k.length||(b.index()<k.index())),d=this.options.animate||{},n=m&&d.down||d,c=function(){h._toggleComplete(g)};if(typeof n==="number"){f=n}if(typeof n==="string"){i=n}i=i||n.easing||d.easing;f=f||n.duration||d.duration;if(!k.length){return b.animate(this.showProps,f,i,c)}if(!b.length){return k.animate(this.hideProps,f,i,c)}j=b.show().outerHeight();k.animate(this.hideProps,{duration:f,easing:i,step:function(o,p){p.now=Math.round(o)}});b.hide().animate(this.showProps,{duration:f,easing:i,complete:c,step:function(o,p){p.now=Math.round(o);if(p.prop!=="height"){if(e==="content-box"){l+=p.now}}else{if(h.options.heightStyle!=="content"){p.now=Math.round(j-k.outerHeight()-l);l=0}}}})},_toggleComplete:function(c){var b=c.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");if(b.length){b.parent()[0].className=b.parent()[0].className}this._trigger("activate",null,c)}})}));