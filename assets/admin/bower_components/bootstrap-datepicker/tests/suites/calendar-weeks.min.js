module("Calendar Weeks",{setup:function(){this.input=$('<input type="text">').appendTo("#qunit-fixture").val("2013-01-14").datepicker({format:"yyyy-mm-dd",calendarWeeks:true}).focus();this.dp=this.input.data("datepicker");this.picker=this.dp.picker},teardown:function(){this.picker.remove()}});test("adds cw header column",function(){var a=this.picker.find(".datepicker-days thead tr:nth-child(3) th:first-child");ok(a.hasClass("cw"),"First column heading is from cw column")});test("adds calendar week cells to each day row",function(){var a=this.picker.find(".datepicker-days tbody tr");expect(a.length);a.each(function(c){var b=$(this).children().first();ok(b.hasClass("cw"),"First column is cw column")})});test("displays correct calendar week",function(){var a=this.picker.find(".datepicker-days tbody tr");expect(a.length);a.each(function(c){var b=$(this).children().first();equal(b.text(),c+1,"Displays correct calendar weeks")})});test("it prepends column to switcher thead row",function(){var a=this.picker.find(".datepicker-days thead tr:nth-child(2)");equal(a.children().length,3,"first row has 3 columns");ok(!a.children().first().hasClass("cw"),"cw column is not prepended")});