module("Methods",{setup:function(){this.input=$('<input type="text" value="31-03-2011">').appendTo("#qunit-fixture").datepicker({format:"dd-mm-yyyy"});this.dp=this.input.data("datepicker");this.picker=this.dp.picker},teardown:function(){this.dp.remove()}});test("remove",function(){var a=this.dp.remove();strictEqual(a,this.dp,"is chainable")});test("show",function(){var a=this.dp.show();strictEqual(a,this.dp,"is chainable")});test("hide",function(){var a=this.dp.hide();strictEqual(a,this.dp,"is chainable")});test("update - String",function(){var b=this.dp.update("13-03-2012");datesEqual(this.dp.dates[0],UTCDate(2012,2,13));var a=this.dp.picker.find(".datepicker-days td:contains(13)");ok(a.hasClass("active"),"Date is selected");strictEqual(b,this.dp,"is chainable")});test("update - Date",function(){var b=this.dp.update(new Date(2012,2,13));datesEqual(this.dp.dates[0],UTCDate(2012,2,13));var a=this.dp.picker.find(".datepicker-days td:contains(13)");ok(a.hasClass("active"),"Date is selected");strictEqual(b,this.dp,"is chainable")});test("update - Date with time",function(){var b=this.dp.update(new Date(2012,2,13,23,59,59,999));datesEqual(this.dp.dates[0],UTCDate(2012,2,13,23,59,59,999));var a=this.dp.picker.find(".datepicker-days td:contains(13)");ok(a.hasClass("active"),"Date is selected");strictEqual(b,this.dp,"is chainable")});test("update - null",function(){var b=this.dp.update(null);equal(this.dp.dates[0],undefined);var a=this.dp.picker.find(".datepicker-days td.active");equal(a.length,0,"No date is selected");strictEqual(b,this.dp,"is chainable")});test("setDate",function(){var b=new Date(2013,1,1),a=new Date(Date.UTC(2013,1,1)),c;notEqual(this.dp.dates[0],b);c=this.dp.setDate(b);strictEqual(c,this.dp,"is chainable");datesEqual(this.dp.dates[0],a)});test("setUTCDate",function(){var b=new Date(Date.UTC(2012,3,5)),a=b,c;notEqual(this.dp.dates[0],b);c=this.dp.setUTCDate(b);strictEqual(c,this.dp,"is chainable");datesEqual(this.dp.dates[0],a)});test("setStartDate",function(){var b=new Date(2012,3,5),a=new Date(Date.UTC(2012,3,5)),c=this.dp.setStartDate(b);datesEqual(this.dp.o.startDate,a);strictEqual(c,this.dp,"is chainable")});test("setEndDate",function(){var b=new Date(2012,3,5),a=new Date(Date.UTC(2012,3,5)),c=this.dp.setEndDate(b);datesEqual(this.dp.o.endDate,a);strictEqual(c,this.dp,"is chainable")});test("getStartDate",function(){var b=new Date(2012,3,5),a=new Date(Date.UTC(2012,3,5)),c=this.dp.setStartDate(b);datesEqual(c.getStartDate(),a);strictEqual(c,this.dp,"is chainable")});test("getEndDate",function(){var b=new Date(2012,3,5),a=new Date(Date.UTC(2012,3,5)),c=this.dp.setEndDate(b);datesEqual(c.getEndDate(),a);strictEqual(c,this.dp,"is chainable")});test("setDaysOfWeekDisabled - String",function(){var a="0,6",c=[0,6],b=this.dp.setDaysOfWeekDisabled(a);deepEqual(this.dp.o.daysOfWeekDisabled,c);strictEqual(b,this.dp,"is chainable")});test("setDaysOfWeekDisabled - Array",function(){var a=[0,6],c=a,b=this.dp.setDaysOfWeekDisabled(a);deepEqual(this.dp.o.daysOfWeekDisabled,c);strictEqual(b,this.dp,"is chainable")});test("setDatesDisabled",function(){var a=this.picker.find(".datepicker-days thead th.datepicker-switch");var b=this.dp.setDatesDisabled(["01-03-2011"]);ok(this.picker.find(".datepicker-days tbody td.day:not(.old):first").hasClass("disabled"),"day is disabled");this.dp.setDatesDisabled(["01-01-2011"]);equal(a.text(),"March 2011","should not change viewDate");strictEqual(b,this.dp,"is chainable")});test("setValue",function(){var a=this.dp.setValue();strictEqual(a,this.dp,"is chainable")});test("place",function(){var a=this.dp.place();strictEqual(a,this.dp,"is chainable")});test("moveMonth - can handle invalid date",function(){var a=new Date("invalid"),b=this.dp.moveMonth(a,1);equal(this.input.val(),"31-03-2011","date is reset")});test("parseDate - outputs correct value",function(){var a=$.fn.datepicker.DPGlobal.parseDate("11/13/2015",$.fn.datepicker.DPGlobal.parseFormat("mm/dd/yyyy"),"en");equal(a.getUTCDate(),"13","date is correct");equal(a.getUTCMonth(),"10","month is correct");equal(a.getUTCFullYear(),"2015","fullyear is correct")});test("parseDate - outputs correct value for yyyy\u5E74mm\u6708dd\u65E5 format",function(){var a=$.fn.datepicker.DPGlobal.parseDate("2015\u5E7411\u670813",$.fn.datepicker.DPGlobal.parseFormat("yyyy\u5E74mm\u6708dd\u65E5"),"ja");equal(a.getUTCDate(),"13","date is correct");equal(a.getUTCMonth(),"10","month is correct");equal(a.getUTCFullYear(),"2015","fullyear is correct")});test("parseDate - outputs correct value for dates containing unicodes",function(){var a=$.fn.datepicker.DPGlobal.parseDate("\u5341\u4E00\u6708 13 2015",$.fn.datepicker.DPGlobal.parseFormat("MM dd yyyy"),"zh-CN");equal(a.getUTCDate(),"13","date is correct");equal(a.getUTCMonth(),"10","month is correct");equal(a.getUTCFullYear(),"2015","fullyear is correct")});