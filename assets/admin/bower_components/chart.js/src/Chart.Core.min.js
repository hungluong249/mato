/*!
 * Chart.js
 * http://chartjs.org/
 * Version: {{ version }}
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
(function(){var A=this,J=A.Chart;var G=function(X){var Z=this;this.canvas=X.canvas;this.ctx=X;var W=function(aa,ab){if(aa["offset"+ab]){return aa["offset"+ab]}else{return document.defaultView.getComputedStyle(aa).getPropertyValue(ab)}};var Y=this.width=W(X.canvas,"Width");var V=this.height=W(X.canvas,"Height");X.canvas.width=Y;X.canvas.height=V;var Y=this.width=X.canvas.width;var V=this.height=X.canvas.height;this.aspectRatio=this.width/this.height;H.retinaScale(this);return this};G.defaults={global:{animation:true,animationSteps:60,animationEasing:"easeOutQuart",showScale:true,scaleOverride:false,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:true,scaleLabel:"<%=value%>",scaleIntegersOnly:true,scaleBeginAtZero:false,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:false,maintainAspectRatio:true,showTooltips:true,customTooltips:false,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}};G.types={};var H=G.helpers={};var M=H.each=function(Y,aa,W){var V=Array.prototype.slice.call(arguments,3);if(Y){if(Y.length===+Y.length){var X;for(X=0;X<Y.length;X++){aa.apply(W,[Y[X],X].concat(V))}}else{for(var Z in Y){aa.apply(W,[Y[Z],Z].concat(V))}}}},y=H.clone=function(W){var V={};M(W,function(Y,X){if(W.hasOwnProperty(X)){V[X]=Y}});return V},s=H.extend=function(V){M(Array.prototype.slice.call(arguments,1),function(W){M(W,function(Y,X){if(W.hasOwnProperty(X)){V[X]=Y}})});return V},K=H.merge=function(X,W){var V=Array.prototype.slice.call(arguments,0);V.unshift({});return s.apply(null,V)},v=H.indexOf=function(V,X){if(Array.prototype.indexOf){return V.indexOf(X)}else{for(var W=0;W<V.length;W++){if(V[W]===X){return W}}return -1}},m=H.where=function(X,W){var V=[];H.each(X,function(Y){if(W(Y)){V.push(Y)}});return V},e=H.findNextWhere=function(V,Z,Y){if(!Y){Y=-1}for(var X=Y+1;X<V.length;X++){var W=V[X];if(Z(W)){return W}}},D=H.findPreviousWhere=function(V,Z,Y){if(!Y){Y=V.length}for(var X=Y-1;X>=0;X--){var W=V[X];if(Z(W)){return W}}},h=H.inherits=function(W){var V=this;var X=(W&&W.hasOwnProperty("constructor"))?W.constructor:function(){return V.apply(this,arguments)};var Y=function(){this.constructor=X};Y.prototype=V.prototype;X.prototype=new Y();X.extend=h;if(W){s(X.prototype,W)}X.__super__=V.prototype;return X},P=H.noop=function(){},j=H.uid=(function(){var V=0;return function(){return"chart-"+V++}})(),r=H.warn=function(V){if(window.console&&typeof window.console.warn=="function"){console.warn(V)}},k=H.amd=(typeof define=="function"&&define.amd),T=H.isNumber=function(V){return !isNaN(parseFloat(V))&&isFinite(V)},z=H.max=function(V){return Math.max.apply(Math,V)},S=H.min=function(V){return Math.min.apply(Math,V)},I=H.cap=function(V,X,W){if(T(X)){if(V>X){return X}}else{if(T(W)){if(V<W){return W}}}return V},F=H.getDecimalPlaces=function(V){if(V%1!==0&&T(V)){return V.toString().split(".")[1].length}else{return 0}},L=H.radians=function(V){return V*(Math.PI/180)},a=H.getAngleFromPoint=function(Y,W){var Z=W.x-Y.x,V=W.y-Y.y,X=Math.sqrt(Z*Z+V*V);var aa=Math.PI*2+Math.atan2(V,Z);if(Z<0&&V<0){aa+=Math.PI*2}return{angle:aa,distance:X}},q=H.aliasPixel=function(V){return(V%2===0)?0:0.5},b=H.splineCurve=function(W,Z,ab,V){var aa=Math.sqrt(Math.pow(Z.x-W.x,2)+Math.pow(Z.y-W.y,2)),ac=Math.sqrt(Math.pow(ab.x-Z.x,2)+Math.pow(ab.y-Z.y,2)),Y=V*aa/(aa+ac),X=V*ac/(aa+ac);return{inner:{x:Z.x-Y*(ab.x-W.x),y:Z.y-Y*(ab.y-W.y)},outer:{x:Z.x+X*(ab.x-W.x),y:Z.y+X*(ab.y-W.y)}}},R=H.calculateOrderOfMagnitude=function(V){return Math.floor(Math.log(V)/Math.LN10)},n=H.calculateScaleRange=function(W,ab,V,X,aa){var ah=2,ac=Math.floor(ab/(V*1.5)),al=(ah>=ac);var ad=z(W),aj=S(W);if(ad===aj){ad+=0.5;if(aj>=0.5&&!X){aj-=0.5}else{ad+=0.5}}var af=Math.abs(ad-aj),ag=R(af),Y=Math.ceil(ad/(1*Math.pow(10,ag)))*Math.pow(10,ag),ai=(X)?0:Math.floor(aj/(1*Math.pow(10,ag)))*Math.pow(10,ag),Z=Y-ai,ae=Math.pow(10,ag),ak=Math.round(Z/ae);while((ak>ac||(ak*2)<ac)&&!al){if(ak>ac){ae*=2;ak=Math.round(Z/ae);if(ak%1!==0){al=true}}else{if(aa&&ag>=0){if(ae/2%1===0){ae/=2;ak=Math.round(Z/ae)}else{break}}else{ae/=2;ak=Math.round(Z/ae)}}}if(al){ak=ah;ae=Z/ak}return{steps:ak,stepValue:ae,min:ai,max:ai+(ak*ae)}},i=H.template=function(Y,X){if(Y instanceof Function){return Y(X)}var W={};function V(ab,aa){var Z=!/\W/.test(ab)?W[ab]=W[ab]:new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+ab.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return aa?Z(aa):Z}return V(Y,X)},u=H.generateLabels=function(Y,W,Z,V){var X=new Array(W);if(labelTemplateString){M(X,function(ab,aa){X[aa]=i(Y,{value:(Z+(V*(aa+1)))})})}return X},N=H.easingEffects={linear:function(V){return V},easeInQuad:function(V){return V*V},easeOutQuad:function(V){return -1*V*(V-2)},easeInOutQuad:function(V){if((V/=1/2)<1){return 1/2*V*V}return -1/2*((--V)*(V-2)-1)},easeInCubic:function(V){return V*V*V},easeOutCubic:function(V){return 1*((V=V/1-1)*V*V+1)},easeInOutCubic:function(V){if((V/=1/2)<1){return 1/2*V*V*V}return 1/2*((V-=2)*V*V+2)},easeInQuart:function(V){return V*V*V*V},easeOutQuart:function(V){return -1*((V=V/1-1)*V*V*V-1)},easeInOutQuart:function(V){if((V/=1/2)<1){return 1/2*V*V*V*V}return -1/2*((V-=2)*V*V*V-2)},easeInQuint:function(V){return 1*(V/=1)*V*V*V*V},easeOutQuint:function(V){return 1*((V=V/1-1)*V*V*V*V+1)},easeInOutQuint:function(V){if((V/=1/2)<1){return 1/2*V*V*V*V*V}return 1/2*((V-=2)*V*V*V*V+2)},easeInSine:function(V){return -1*Math.cos(V/1*(Math.PI/2))+1},easeOutSine:function(V){return 1*Math.sin(V/1*(Math.PI/2))},easeInOutSine:function(V){return -1/2*(Math.cos(Math.PI*V/1)-1)},easeInExpo:function(V){return(V===0)?1:1*Math.pow(2,10*(V/1-1))},easeOutExpo:function(V){return(V===1)?1:1*(-Math.pow(2,-10*V/1)+1)},easeInOutExpo:function(V){if(V===0){return 0}if(V===1){return 1}if((V/=1/2)<1){return 1/2*Math.pow(2,10*(V-1))}return 1/2*(-Math.pow(2,-10*--V)+2)},easeInCirc:function(V){if(V>=1){return V}return -1*(Math.sqrt(1-(V/=1)*V)-1)},easeOutCirc:function(V){return 1*Math.sqrt(1-(V=V/1-1)*V)},easeInOutCirc:function(V){if((V/=1/2)<1){return -1/2*(Math.sqrt(1-V*V)-1)}return 1/2*(Math.sqrt(1-(V-=2)*V)+1)},easeInElastic:function(W){var X=1.70158;var Y=0;var V=1;if(W===0){return 0}if((W/=1)==1){return 1}if(!Y){Y=1*0.3}if(V<Math.abs(1)){V=1;X=Y/4}else{X=Y/(2*Math.PI)*Math.asin(1/V)}return -(V*Math.pow(2,10*(W-=1))*Math.sin((W*1-X)*(2*Math.PI)/Y))},easeOutElastic:function(W){var X=1.70158;var Y=0;var V=1;if(W===0){return 0}if((W/=1)==1){return 1}if(!Y){Y=1*0.3}if(V<Math.abs(1)){V=1;X=Y/4}else{X=Y/(2*Math.PI)*Math.asin(1/V)}return V*Math.pow(2,-10*W)*Math.sin((W*1-X)*(2*Math.PI)/Y)+1},easeInOutElastic:function(W){var X=1.70158;var Y=0;var V=1;if(W===0){return 0}if((W/=1/2)==2){return 1}if(!Y){Y=1*(0.3*1.5)}if(V<Math.abs(1)){V=1;X=Y/4}else{X=Y/(2*Math.PI)*Math.asin(1/V)}if(W<1){return -0.5*(V*Math.pow(2,10*(W-=1))*Math.sin((W*1-X)*(2*Math.PI)/Y))}return V*Math.pow(2,-10*(W-=1))*Math.sin((W*1-X)*(2*Math.PI)/Y)*0.5+1},easeInBack:function(V){var W=1.70158;return 1*(V/=1)*V*((W+1)*V-W)},easeOutBack:function(V){var W=1.70158;return 1*((V=V/1-1)*V*((W+1)*V+W)+1)},easeInOutBack:function(V){var W=1.70158;if((V/=1/2)<1){return 1/2*(V*V*(((W*=(1.525))+1)*V-W))}return 1/2*((V-=2)*V*(((W*=(1.525))+1)*V+W)+2)},easeInBounce:function(V){return 1-N.easeOutBounce(1-V)},easeOutBounce:function(V){if((V/=1)<(1/2.75)){return 1*(7.5625*V*V)}else{if(V<(2/2.75)){return 1*(7.5625*(V-=(1.5/2.75))*V+0.75)}else{if(V<(2.5/2.75)){return 1*(7.5625*(V-=(2.25/2.75))*V+0.9375)}else{return 1*(7.5625*(V-=(2.625/2.75))*V+0.984375)}}}},easeInOutBounce:function(V){if(V<1/2){return N.easeInBounce(V*2)*0.5}return N.easeOutBounce(V*2-1)*0.5+1*0.5}},d=H.requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(V){return window.setTimeout(V,1000/60)}})(),O=H.cancelAnimFrame=(function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(V){return window.clearTimeout(V,1000/60)}})(),B=H.animationLoop=function(aa,V,Z,ab,Y,ad){var W=0,ac=N[Z]||N.linear;var X=function(){W++;var af=W/V;var ae=ac(af);aa.call(ad,ae,af,W);ab.call(ad,ae,af);if(W<V){ad.animationFrame=d(X)}else{Y.apply(ad)}};d(X)},C=H.getRelativePosition=function(V){var Z,Y;var aa=V.originalEvent||V,X=V.currentTarget||V.srcElement,W=X.getBoundingClientRect();if(aa.touches){Z=aa.touches[0].clientX-W.left;Y=aa.touches[0].clientY-W.top}else{Z=aa.clientX-W.left;Y=aa.clientY-W.top}return{x:Z,y:Y}},p=H.addEvent=function(W,V,X){if(W.addEventListener){W.addEventListener(V,X)}else{if(W.attachEvent){W.attachEvent("on"+V,X)}else{W["on"+V]=X}}},c=H.removeEvent=function(X,V,W){if(X.removeEventListener){X.removeEventListener(V,W,false)}else{if(X.detachEvent){X.detachEvent("on"+V,W)}else{X["on"+V]=P}}},Q=H.bindEvents=function(V,X,W){if(!V.events){V.events={}}M(X,function(Y){V.events[Y]=function(){W.apply(V,arguments)};p(V.chart.canvas,Y,V.events[Y])})},U=H.unbindEvents=function(V,W){M(W,function(Y,X){c(V.chart.canvas,X,Y)})},t=H.getMaximumWidth=function(W){var V=W.parentNode;return V.clientWidth},o=H.getMaximumHeight=function(W){var V=W.parentNode;return V.clientHeight},x=H.getMaximumSize=H.getMaximumWidth,g=H.retinaScale=function(Y){var W=Y.ctx,X=Y.canvas.width,V=Y.canvas.height;if(window.devicePixelRatio){W.canvas.style.width=X+"px";W.canvas.style.height=V+"px";W.canvas.height=V*window.devicePixelRatio;W.canvas.width=X*window.devicePixelRatio;W.scale(window.devicePixelRatio,window.devicePixelRatio)}},E=H.clear=function(V){V.ctx.clearRect(0,0,V.width,V.height)},f=H.fontString=function(W,X,V){return X+" "+W+"px "+V},w=H.longestText=function(V,W,Y){V.font=W;var X=0;M(Y,function(Z){var aa=V.measureText(Z).width;X=(aa>X)?aa:X});return X},l=H.drawRoundedRectangle=function(Y,X,aa,Z,W,V){Y.beginPath();Y.moveTo(X+V,aa);Y.lineTo(X+Z-V,aa);Y.quadraticCurveTo(X+Z,aa,X+Z,aa+V);Y.lineTo(X+Z,aa+W-V);Y.quadraticCurveTo(X+Z,aa+W,X+Z-V,aa+W);Y.lineTo(X+V,aa+W);Y.quadraticCurveTo(X,aa+W,X,aa+W-V);Y.lineTo(X,aa+V);Y.quadraticCurveTo(X,aa,X+V,aa);Y.closePath()};G.instances={};G.Type=function(X,V,W){this.options=V;this.chart=W;this.id=j();G.instances[this.id]=this;if(V.responsive){this.resize()}this.initialize.call(this,X)};s(G.Type.prototype,{initialize:function(){return this},clear:function(){E(this.chart);return this},stop:function(){O(this.animationFrame);return this},resize:function(Y){this.stop();var W=this.chart.canvas,X=t(this.chart.canvas),V=this.options.maintainAspectRatio?X/this.chart.aspectRatio:o(this.chart.canvas);W.width=this.chart.width=X;W.height=this.chart.height=V;g(this.chart);if(typeof Y==="function"){Y.apply(this,Array.prototype.slice.call(arguments,1))}return this},reflow:P,render:function(V){if(V){this.reflow()}if(this.options.animation&&!V){H.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this)}else{this.draw();this.options.onAnimationComplete.call(this)}return this},generateLegend:function(){return i(this.options.legendTemplate,this)},destroy:function(){this.clear();U(this,this.events);var V=this.chart.canvas;V.width=this.chart.width;V.height=this.chart.height;if(V.style.removeProperty){V.style.removeProperty("width");V.style.removeProperty("height")}else{V.style.removeAttribute("width");V.style.removeAttribute("height")}delete G.instances[this.id]},showTooltip:function(W,X){if(typeof this.activeElements==="undefined"){this.activeElements=[]}var ac=(function(af){var ae=false;if(af.length!==this.activeElements.length){ae=true;return ae}M(af,function(ah,ag){if(ah!==this.activeElements[ag]){ae=true}},this);return ae}).call(this,W);if(!ac&&!X){return}else{this.activeElements=W}this.draw();if(this.options.customTooltips){this.options.customTooltips(false)}if(W.length>0){if(this.datasets&&this.datasets.length>1){var ab,aa;for(var Y=this.datasets.length-1;Y>=0;Y--){ab=this.datasets[Y].points||this.datasets[Y].bars||this.datasets[Y].segments;aa=v(ab,W[0]);if(aa!==-1){break}}var Z=[],V=[],ad=(function(aj){var ae=[],ak,am=[],ah=[],ai,ag,af,al;H.each(this.datasets,function(an){ak=an.points||an.bars||an.segments;if(ak[aa]&&ak[aa].hasValue()){ae.push(ak[aa])}});H.each(ae,function(an){am.push(an.x);ah.push(an.y);Z.push(H.template(this.options.multiTooltipTemplate,an));V.push({fill:an._saved.fillColor||an.fillColor,stroke:an._saved.strokeColor||an.strokeColor})},this);al=S(ah);ag=z(ah);af=S(am);ai=z(am);return{x:(af>this.chart.width/2)?af:ai,y:(al+ag)/2}}).call(this,aa);new G.MultiTooltip({x:ad.x,y:ad.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:Z,legendColors:V,legendColorBackground:this.options.multiTooltipKeyBackground,title:W[0].label,chart:this.chart,ctx:this.chart.ctx,custom:this.options.customTooltips}).draw()}else{M(W,function(ae){var af=ae.tooltipPosition();new G.Tooltip({x:Math.round(af.x),y:Math.round(af.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:i(this.options.tooltipTemplate,ae),chart:this.chart,custom:this.options.customTooltips}).draw()},this)}}return this},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}});G.Type.extend=function(Z){var Y=this;var X=function(){return Y.apply(this,arguments)};X.prototype=y(Y.prototype);s(X.prototype,Z);X.extend=G.Type.extend;if(Z.name||Y.prototype.name){var W=Z.name||Y.prototype.name;var V=(G.defaults[Y.prototype.name])?y(G.defaults[Y.prototype.name]):{};G.defaults[W]=s(V,Z.defaults);G.types[W]=X;G.prototype[W]=function(ac,ab){var aa=K(G.defaults.global,G.defaults[W],ab||{});return new X(ac,aa,this)}}else{r("Name not provided for this chart, so it hasn't been registered")}return Y};G.Element=function(V){s(this,V);this.initialize.apply(this,arguments);this.save()};s(G.Element.prototype,{initialize:function(){},restore:function(V){if(!V){s(this,this._saved)}else{M(V,function(W){this[W]=this._saved[W]},this)}return this},save:function(){this._saved=y(this);delete this._saved._saved;return this},update:function(V){M(V,function(X,W){this._saved[W]=this[W];this[W]=X},this);return this},transition:function(V,W){M(V,function(Y,X){this[X]=((Y-this._saved[X])*W)+this._saved[X]},this);return this},tooltipPosition:function(){return{x:this.x,y:this.y}},hasValue:function(){return T(this.value)}});G.Element.extend=h;G.Point=G.Element.extend({display:true,inRange:function(V,X){var W=this.hitDetectionRadius+this.radius;return((Math.pow(V-this.x,2)+Math.pow(X-this.y,2))<Math.pow(W,2))},draw:function(){if(this.display){var V=this.ctx;V.beginPath();V.arc(this.x,this.y,this.radius,0,Math.PI*2);V.closePath();V.strokeStyle=this.strokeColor;V.lineWidth=this.strokeWidth;V.fillStyle=this.fillColor;V.fill();V.stroke()}}});G.Arc=G.Element.extend({inRange:function(W,Z){var V=H.getAngleFromPoint(this,{x:W,y:Z});var Y=(V.angle>=this.startAngle&&V.angle<=this.endAngle),X=(V.distance>=this.innerRadius&&V.distance<=this.outerRadius);return(Y&&X)},tooltipPosition:function(){var V=this.startAngle+((this.endAngle-this.startAngle)/2),W=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+(Math.cos(V)*W),y:this.y+(Math.sin(V)*W)}},draw:function(X){var W=X||1;var V=this.ctx;V.beginPath();V.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle);V.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,true);V.closePath();V.strokeStyle=this.strokeColor;V.lineWidth=this.strokeWidth;V.fillStyle=this.fillColor;V.fill();V.lineJoin="bevel";if(this.showStroke){V.stroke()}}});G.Rectangle=G.Element.extend({draw:function(){var V=this.ctx,aa=this.width/2,X=this.x-aa,W=this.x+aa,Z=this.base-(this.base-this.y),Y=this.strokeWidth/2;if(this.showStroke){X+=Y;W-=Y;Z+=Y}V.beginPath();V.fillStyle=this.fillColor;V.strokeStyle=this.strokeColor;V.lineWidth=this.strokeWidth;V.moveTo(X,this.base);V.lineTo(X,Z);V.lineTo(W,Z);V.lineTo(W,this.base);V.fill();if(this.showStroke){V.stroke()}},height:function(){return this.base-this.y},inRange:function(V,W){return(V>=this.x-this.width/2&&V<=this.x+this.width/2)&&(W>=this.y&&W<=this.base)}});G.Tooltip=G.Element.extend({draw:function(){var Y=this.chart.ctx;Y.font=f(this.fontSize,this.fontStyle,this.fontFamily);this.xAlign="center";this.yAlign="above";var X=this.caretPadding=2;var Z=Y.measureText(this.text).width+2*this.xPadding,W=this.fontSize+2*this.yPadding,aa=W+this.caretHeight+X;if(this.x+Z/2>this.chart.width){this.xAlign="left"}else{if(this.x-Z/2<0){this.xAlign="right"}}if(this.y-aa<0){this.yAlign="below"}var V=this.x-Z/2,ab=this.y-aa;Y.fillStyle=this.fillColor;if(this.custom){this.custom(this)}else{switch(this.yAlign){case"above":Y.beginPath();Y.moveTo(this.x,this.y-X);Y.lineTo(this.x+this.caretHeight,this.y-(X+this.caretHeight));Y.lineTo(this.x-this.caretHeight,this.y-(X+this.caretHeight));Y.closePath();Y.fill();break;case"below":ab=this.y+X+this.caretHeight;Y.beginPath();Y.moveTo(this.x,this.y+X);Y.lineTo(this.x+this.caretHeight,this.y+X+this.caretHeight);Y.lineTo(this.x-this.caretHeight,this.y+X+this.caretHeight);Y.closePath();Y.fill();break}switch(this.xAlign){case"left":V=this.x-Z+(this.cornerRadius+this.caretHeight);break;case"right":V=this.x-(this.cornerRadius+this.caretHeight);break}l(Y,V,ab,Z,W,this.cornerRadius);Y.fill();Y.fillStyle=this.textColor;Y.textAlign="center";Y.textBaseline="middle";Y.fillText(this.text,V+Z/2,ab+W/2)}}});G.MultiTooltip=G.Element.extend({initialize:function(){this.font=f(this.fontSize,this.fontStyle,this.fontFamily);this.titleFont=f(this.titleFontSize,this.titleFontStyle,this.titleFontFamily);this.height=(this.labels.length*this.fontSize)+((this.labels.length-1)*(this.fontSize/2))+(this.yPadding*2)+this.titleFontSize*1.5;this.ctx.font=this.titleFont;var Y=this.ctx.measureText(this.title).width,W=w(this.ctx,this.font,this.labels)+this.fontSize+3,X=z([W,Y]);this.width=X+(this.xPadding*2);var V=this.height/2;if(this.y-V<0){this.y=V}else{if(this.y+V>this.chart.height){this.y=this.chart.height-V}}if(this.x>this.chart.width/2){this.x-=this.xOffset+this.width}else{this.x+=this.xOffset}},getLineHeight:function(V){var X=this.y-(this.height/2)+this.yPadding,W=V-1;if(V===0){return X+this.titleFontSize/2}else{return X+((this.fontSize*1.5*W)+this.fontSize/2)+this.titleFontSize*1.5}},draw:function(){if(this.custom){this.custom(this)}else{l(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var V=this.ctx;V.fillStyle=this.fillColor;V.fill();V.closePath();V.textAlign="left";V.textBaseline="middle";V.fillStyle=this.titleTextColor;V.font=this.titleFont;V.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0));V.font=this.font;H.each(this.labels,function(X,W){V.fillStyle=this.textColor;V.fillText(X,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(W+1));V.fillStyle=this.legendColorBackground;V.fillRect(this.x+this.xPadding,this.getLineHeight(W+1)-this.fontSize/2,this.fontSize,this.fontSize);V.fillStyle=this.legendColors[W].fill;V.fillRect(this.x+this.xPadding,this.getLineHeight(W+1)-this.fontSize/2,this.fontSize,this.fontSize)},this)}}});G.Scale=G.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];var W=F(this.stepValue);for(var V=0;V<=this.steps;V++){this.yLabels.push(i(this.templateString,{value:(this.min+(V*this.stepValue)).toFixed(W)}))}this.yLabelWidth=(this.display&&this.showLabels)?w(this.ctx,this.font,this.yLabels):0},addXLabel:function(V){this.xLabels.push(V);this.valuesCount++;this.fit()},removeXLabel:function(){this.xLabels.shift();this.valuesCount--;this.fit()},fit:function(){this.startPoint=(this.display)?this.fontSize:0;this.endPoint=(this.display)?this.height-(this.fontSize*1.5)-5:this.height;this.startPoint+=this.padding;this.endPoint-=this.padding;var W=this.endPoint-this.startPoint,V;this.calculateYRange(W);this.buildYLabels();this.calculateXLabelRotation();while((W>this.endPoint-this.startPoint)){W=this.endPoint-this.startPoint;V=this.yLabelWidth;this.calculateYRange(W);this.buildYLabels();if(V<this.yLabelWidth){this.calculateXLabelRotation()}}},calculateXLabelRotation:function(){this.ctx.font=this.font;var X=this.ctx.measureText(this.xLabels[0]).width,V=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width,W,ac;this.xScalePaddingRight=V/2+3;this.xScalePaddingLeft=(X/2>this.yLabelWidth+10)?X/2:this.yLabelWidth+10;this.xLabelRotation=0;if(this.display){var Y=w(this.ctx,this.font,this.xLabels),ab,Z;this.xLabelWidth=Y;var aa=Math.floor(this.calculateX(1)-this.calculateX(0))-6;while((this.xLabelWidth>aa&&this.xLabelRotation===0)||(this.xLabelWidth>aa&&this.xLabelRotation<=90&&this.xLabelRotation>0)){ab=Math.cos(L(this.xLabelRotation));W=ab*X;ac=ab*V;if(W+this.fontSize/2>this.yLabelWidth+8){this.xScalePaddingLeft=W+this.fontSize/2}this.xScalePaddingRight=this.fontSize/2;this.xLabelRotation++;this.xLabelWidth=ab*Y}if(this.xLabelRotation>0){this.endPoint-=Math.sin(L(this.xLabelRotation))*Y+3}}else{this.xLabelWidth=0;this.xScalePaddingRight=this.padding;this.xScalePaddingLeft=this.padding}},calculateYRange:P,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(W){var V=this.drawingArea()/(this.min-this.max);return this.endPoint-(V*(W-this.min))},calculateX:function(X){var Y=(this.xLabelRotation>0),W=this.width-(this.xScalePaddingLeft+this.xScalePaddingRight),V=W/Math.max((this.valuesCount-((this.offsetGridLines)?0:1)),1),Z=(V*X)+this.xScalePaddingLeft;if(this.offsetGridLines){Z+=(V/2)}return Math.round(Z)},update:function(V){H.extend(this,V);this.fit()},draw:function(){var V=this.ctx,W=(this.endPoint-this.startPoint)/this.steps,X=Math.round(this.xScalePaddingLeft);if(this.display){V.fillStyle=this.textColor;V.font=this.font;M(this.yLabels,function(aa,Z){var ab=this.endPoint-(W*Z),ac=Math.round(ab),Y=this.showHorizontalLines;V.textAlign="right";V.textBaseline="middle";if(this.showLabels){V.fillText(aa,X-10,ab)}if(Z===0&&!Y){Y=true}if(Y){V.beginPath()}if(Z>0){V.lineWidth=this.gridLineWidth;V.strokeStyle=this.gridLineColor}else{V.lineWidth=this.lineWidth;V.strokeStyle=this.lineColor}ac+=H.aliasPixel(V.lineWidth);if(Y){V.moveTo(X,ac);V.lineTo(this.width,ac);V.stroke();V.closePath()}V.lineWidth=this.lineWidth;V.strokeStyle=this.lineColor;V.beginPath();V.moveTo(X-5,ac);V.lineTo(X,ac);V.stroke();V.closePath()},this);M(this.xLabels,function(Z,Y){var ac=this.calculateX(Y)+q(this.lineWidth),aa=this.calculateX(Y-(this.offsetGridLines?0.5:0))+q(this.lineWidth),ab=(this.xLabelRotation>0),ad=this.showVerticalLines;if(Y===0&&!ad){ad=true}if(ad){V.beginPath()}if(Y>0){V.lineWidth=this.gridLineWidth;V.strokeStyle=this.gridLineColor}else{V.lineWidth=this.lineWidth;V.strokeStyle=this.lineColor}if(ad){V.moveTo(aa,this.endPoint);V.lineTo(aa,this.startPoint-3);V.stroke();V.closePath()}V.lineWidth=this.lineWidth;V.strokeStyle=this.lineColor;V.beginPath();V.moveTo(aa,this.endPoint);V.lineTo(aa,this.endPoint+5);V.stroke();V.closePath();V.save();V.translate(ac,(ab)?this.endPoint+12:this.endPoint+8);V.rotate(L(this.xLabelRotation)*-1);V.font=this.font;V.textAlign=(ab)?"right":"center";V.textBaseline=(ab)?"middle":"top";V.fillText(Z,0,0);V.restore()},this)}}});G.RadialScale=G.Element.extend({initialize:function(){this.size=S([this.height,this.width]);this.drawingArea=(this.display)?(this.size/2)-(this.fontSize/2+this.backdropPaddingY):(this.size/2)},calculateCenterOffset:function(W){var V=this.drawingArea/(this.max-this.min);return(W-this.min)*V},update:function(){if(!this.lineArc){this.setScaleSize()}else{this.drawingArea=(this.display)?(this.size/2)-(this.fontSize/2+this.backdropPaddingY):(this.size/2)}this.buildYLabels()},buildYLabels:function(){this.yLabels=[];var W=F(this.stepValue);for(var V=0;V<=this.steps;V++){this.yLabels.push(i(this.templateString,{value:(this.min+(V*this.stepValue)).toFixed(W)}))}},getCircumference:function(){return((Math.PI*2)/this.valuesCount)},setScaleSize:function(){var V=S([(this.height/2-this.pointLabelFontSize-5),this.width/2]),aj,Z,ag,Y,ak=this.width,ai,ac,ab=0,af,X,ah,ae,aa,W,ad;this.ctx.font=f(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily);for(Z=0;Z<this.valuesCount;Z++){aj=this.getPointPosition(Z,V);ag=this.ctx.measureText(i(this.templateString,{value:this.labels[Z]})).width+5;if(Z===0||Z===this.valuesCount/2){Y=ag/2;if(aj.x+Y>ak){ak=aj.x+Y;ai=Z}if(aj.x-Y<ab){ab=aj.x-Y;af=Z}}else{if(Z<this.valuesCount/2){if(aj.x+ag>ak){ak=aj.x+ag;ai=Z}}else{if(Z>this.valuesCount/2){if(aj.x-ag<ab){ab=aj.x-ag;af=Z}}}}}ah=ab;ae=Math.ceil(ak-this.width);ac=this.getIndexAngle(ai);X=this.getIndexAngle(af);aa=ae/Math.sin(ac+Math.PI/2);W=ah/Math.sin(X+Math.PI/2);aa=(T(aa))?aa:0;W=(T(W))?W:0;this.drawingArea=V-(W+aa)/2;this.setCenterPoint(W,aa)},setCenterPoint:function(Y,V){var X=this.width-V-this.drawingArea,W=Y+this.drawingArea;this.xCenter=(W+X)/2;this.yCenter=(this.height/2)},getIndexAngle:function(W){var V=(Math.PI*2)/this.valuesCount;return W*V-(Math.PI/2)},getPointPosition:function(W,X){var V=this.getIndexAngle(W);return{x:(Math.cos(V)*X)+this.xCenter,y:(Math.sin(V)*X)+this.yCenter}},draw:function(){if(this.display){var ad=this.ctx;M(this.yLabels,function(ai,ah){if(ah>0){var ag=ah*(this.drawingArea/this.steps),af=this.yCenter-ag,ak;if(this.lineWidth>0){ad.strokeStyle=this.lineColor;ad.lineWidth=this.lineWidth;if(this.lineArc){ad.beginPath();ad.arc(this.xCenter,this.yCenter,ag,0,Math.PI*2);ad.closePath();ad.stroke()}else{ad.beginPath();for(var aj=0;aj<this.valuesCount;aj++){ak=this.getPointPosition(aj,this.calculateCenterOffset(this.min+(ah*this.stepValue)));if(aj===0){ad.moveTo(ak.x,ak.y)}else{ad.lineTo(ak.x,ak.y)}}ad.closePath();ad.stroke()}}if(this.showLabels){ad.font=f(this.fontSize,this.fontStyle,this.fontFamily);if(this.showLabelBackdrop){var ae=ad.measureText(ai).width;ad.fillStyle=this.backdropColor;ad.fillRect(this.xCenter-ae/2-this.backdropPaddingX,af-this.fontSize/2-this.backdropPaddingY,ae+this.backdropPaddingX*2,this.fontSize+this.backdropPaddingY*2)}ad.textAlign="center";ad.textBaseline="middle";ad.fillStyle=this.fontColor;ad.fillText(ai,this.xCenter,af)}}},this);if(!this.lineArc){ad.lineWidth=this.angleLineWidth;ad.strokeStyle=this.angleLineColor;for(var X=this.valuesCount-1;X>=0;X--){if(this.angleLineWidth>0){var W=this.getPointPosition(X,this.calculateCenterOffset(this.max));ad.beginPath();ad.moveTo(this.xCenter,this.yCenter);ad.lineTo(W.x,W.y);ad.stroke();ad.closePath()}var aa=this.getPointPosition(X,this.calculateCenterOffset(this.max)+5);ad.font=f(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily);ad.fillStyle=this.pointLabelFontColor;var V=this.labels.length,Y=this.labels.length/2,ac=Y/2,ab=(X<ac||X>V-ac),Z=(X===ac||X===V-ac);if(X===0){ad.textAlign="center"}else{if(X===Y){ad.textAlign="center"}else{if(X<Y){ad.textAlign="left"}else{ad.textAlign="right"}}}if(Z){ad.textBaseline="middle"}else{if(ab){ad.textBaseline="bottom"}else{ad.textBaseline="top"}}ad.fillText(this.labels[X],aa.x,aa.y)}}}}});H.addEvent(window,"resize",(function(){var V;return function(){clearTimeout(V);V=setTimeout(function(){M(G.instances,function(W){if(W.options.responsive){W.resize(W.render,true)}})},50)}})());if(k){define(function(){return G})}else{if(typeof module==="object"&&module.exports){module.exports=G}}A.Chart=G;G.noConflict=function(){A.Chart=J;return G}}).call(this);